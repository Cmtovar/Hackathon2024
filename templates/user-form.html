{% extends "base.html" %}

{% block title %}Submit Assistance Request - CTA Accessibility App{% endblock %}

{% block content %}
<h2>Submit Assistance Request</h2>
<form hx-post="{{ url_for('submit_request') }}" hx-swap="outerHTML">
    <div class="form-group">
        <label for="start_station">Start Station:</label>
        <input type="text" id="start_station" name="start_station" required>
    </div>
    
    <div class="form-group">
        <label for="end_station">End Station:</label>
        <input type="text" id="end_station" name="end_station" required>
    </div>
    
    <button type="submit">Submit Request</button>
</form>

<div id="response-message"></div>

<script>
    document.body.addEventListener('htmx:afterRequest', function(event) {
        if (event.detail.successful) {
            document.getElementById('response-message').innerHTML = 'Request submitted successfully!';
            event.detail.target.reset();
        } else {
            document.getElementById('response-message').innerHTML = 'Error submitting request. Please try again.';
        }
    });
</script>
{% endblock %}
